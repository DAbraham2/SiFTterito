DEBUG:__main__:__init__
INFO:__main__:Initialization
DEBUG:__main__:operation
DEBUG:__main__:connect
INFO:__main__:Connection established
DEBUG:__main__:login
INFO:__main__:Starting Login Protocol
INFO:SiFT_MTP:login request init
INFO:SiFT_MTP:create mtp message
DEBUG:SiFT_MTP:Created message: 1651952856476893900
alice
aaa
a91f7c24c008d96c8c9ea4ae5bbe7808
INFO:SiFT_MTP:loading pubkey
INFO:SiFT_MTP:login request func
INFO:SiFT_MTP:handle to mtp
INFO:SiFT_MTP:mtp response init
INFO:SiFT_MTP:Mesage length calculation
INFO:SiFT_MTP:login message length calc
DEBUG:SiFT_MTP:Payload length: 62
DEBUG:SiFT_MTP:Login message length: 346
Login message length in bytes: b'\x01Z'
DEBUG:SiFT_MTP:Message length b'\x01Z'
INFO:SiFT_MTP:mtp login request
INFO:SiFT_MTP:login req encryption
INFO:SiFT_MTP:Payload encrypted
DEBUG:SiFT_MTP:Encryption: 
nonce b'\x00\x01\xefr\xf1v\x9d\xac'
tk: b"\xd6\xcb!\x01\xc5\xbcS\xc3+Hm`\x1b\x1eK ('l\xa0e\xc93>?\\#\x9c\x86]0K"
encrypted payload: b'[\x9ac\x96\xa0\xde\x8b\xda)L\xf6)0\xb3\xa5!K\x97f\\,\x0b\xe3\xd8f\xdb\xf8pTQW@\xe6B}Z\xc3\x89\x06\xaaF/\xdc;\xbe~*:\xdeZq>\x7f\x1fC\xeeR\xc5\x12\xbe\xc7\xcd'
INFO:SiFT_MTP:mac generation
INFO:SiFT_MTP:create header
DEBUG:SiFT_MTP:Mac generated: b'5Wm\x1d\xc5\xf7>\xf7:9+\xf5'
INFO:SiFT_MTP:encrypted
INFO:SiFT_MTP:Encrypting TK
DEBUG:SiFT_MTP:Encrypted tk: b'\n\xa2\x18\x02lDk\x0e\x18\xfa\x17\xd9\x9d\x9b\xf8$z\'\xa8\xe3\x84\xaa\xedh\x9dW\r\xc2n\xab\xafGU\xd3t\xc24\x91F\x99\xc6ZA\xdd\x8d\xaf\x7f\xe1\x9f\x9e!\x86\x89-#\x16/?\xdco\x93\xa3UPM\xf2\xf33\x81\xca\x7f\xb4Ih\xd1\xfa\r5Yp\x8a\xb2\xa0\x1c\xd6\xa5\xab\xd1,\t\x82)4\xc0\xba\xa8\x8d\xb6\xc5\xb7\xe5\x9d@\xb92I\xbf\xe1\xd7\xcd\xcfP8\x1fYQ\xd4\xbf\xd6\xd9\r\xb0\x93\xdd5w\x1f\x1b\x99:\x0f\xae\xbb\xd1\x1b\x93\xde\xc5KS\x81b\xe0\x04\x1e\t/+\xa6\x97\xd5\x06\xe7\xdb\x17\x02c\xd4\\(MU\x9e\xb5^QA\xc3\xf12^\xb7\x8c[\xce_=F\x8e\x90Xop4y\xb2|\x82\xb8\x8f\xce\xd3N9\x9e\x1aW\x03\xcab\xee`\x1d\xe5\xc7\xd5;\xf4\xfd\x00\xa6\x86u!\xdaC2C"e\xdfO\x95\x7f\xa3\xe5E\xd1\x1dw\x853\x87\xb0^Y<\xc9\x9at\xf7NR\xfe7\x15"\x16\x1c\x14\xb3\xca<\x93J\xee'
DEBUG:SiFT_MTP:
mac langth: 12
header length: 16
pyl length: 62
ectk len: 256

DEBUG:SiFT_MTP:Full message sent back: b'\x01\x00\x00\x00\x01Z\x00\x01\xefr\xf1v\x9d\xac\x00\x00[\x9ac\x96\xa0\xde\x8b\xda)L\xf6)0\xb3\xa5!K\x97f\\,\x0b\xe3\xd8f\xdb\xf8pTQW@\xe6B}Z\xc3\x89\x06\xaaF/\xdc;\xbe~*:\xdeZq>\x7f\x1fC\xeeR\xc5\x12\xbe\xc7\xcd5Wm\x1d\xc5\xf7>\xf7:9+\xf5\n\xa2\x18\x02lDk\x0e\x18\xfa\x17\xd9\x9d\x9b\xf8$z\'\xa8\xe3\x84\xaa\xedh\x9dW\r\xc2n\xab\xafGU\xd3t\xc24\x91F\x99\xc6ZA\xdd\x8d\xaf\x7f\xe1\x9f\x9e!\x86\x89-#\x16/?\xdco\x93\xa3UPM\xf2\xf33\x81\xca\x7f\xb4Ih\xd1\xfa\r5Yp\x8a\xb2\xa0\x1c\xd6\xa5\xab\xd1,\t\x82)4\xc0\xba\xa8\x8d\xb6\xc5\xb7\xe5\x9d@\xb92I\xbf\xe1\xd7\xcd\xcfP8\x1fYQ\xd4\xbf\xd6\xd9\r\xb0\x93\xdd5w\x1f\x1b\x99:\x0f\xae\xbb\xd1\x1b\x93\xde\xc5KS\x81b\xe0\x04\x1e\t/+\xa6\x97\xd5\x06\xe7\xdb\x17\x02c\xd4\\(MU\x9e\xb5^QA\xc3\xf12^\xb7\x8c[\xce_=F\x8e\x90Xop4y\xb2|\x82\xb8\x8f\xce\xd3N9\x9e\x1aW\x03\xcab\xee`\x1d\xe5\xc7\xd5;\xf4\xfd\x00\xa6\x86u!\xdaC2C"e\xdfO\x95\x7f\xa3\xe5E\xd1\x1dw\x853\x87\xb0^Y<\xc9\x9at\xf7NR\xfe7\x15"\x16\x1c\x14\xb3\xca<\x93J\xee'
DEBUG:SiFT_MTP:Message from MTP: b'\x01\x00\x00\x00\x01Z\x00\x01\xefr\xf1v\x9d\xac\x00\x00[\x9ac\x96\xa0\xde\x8b\xda)L\xf6)0\xb3\xa5!K\x97f\\,\x0b\xe3\xd8f\xdb\xf8pTQW@\xe6B}Z\xc3\x89\x06\xaaF/\xdc;\xbe~*:\xdeZq>\x7f\x1fC\xeeR\xc5\x12\xbe\xc7\xcd5Wm\x1d\xc5\xf7>\xf7:9+\xf5\n\xa2\x18\x02lDk\x0e\x18\xfa\x17\xd9\x9d\x9b\xf8$z\'\xa8\xe3\x84\xaa\xedh\x9dW\r\xc2n\xab\xafGU\xd3t\xc24\x91F\x99\xc6ZA\xdd\x8d\xaf\x7f\xe1\x9f\x9e!\x86\x89-#\x16/?\xdco\x93\xa3UPM\xf2\xf33\x81\xca\x7f\xb4Ih\xd1\xfa\r5Yp\x8a\xb2\xa0\x1c\xd6\xa5\xab\xd1,\t\x82)4\xc0\xba\xa8\x8d\xb6\xc5\xb7\xe5\x9d@\xb92I\xbf\xe1\xd7\xcd\xcfP8\x1fYQ\xd4\xbf\xd6\xd9\r\xb0\x93\xdd5w\x1f\x1b\x99:\x0f\xae\xbb\xd1\x1b\x93\xde\xc5KS\x81b\xe0\x04\x1e\t/+\xa6\x97\xd5\x06\xe7\xdb\x17\x02c\xd4\\(MU\x9e\xb5^QA\xc3\xf12^\xb7\x8c[\xce_=F\x8e\x90Xop4y\xb2|\x82\xb8\x8f\xce\xd3N9\x9e\x1aW\x03\xcab\xee`\x1d\xe5\xc7\xd5;\xf4\xfd\x00\xa6\x86u!\xdaC2C"e\xdfO\x95\x7f\xa3\xe5E\xd1\x1dw\x853\x87\xb0^Y<\xc9\x9at\xf7NR\xfe7\x15"\x16\x1c\x14\xb3\xca<\x93J\xee'
DEBUG:SiFT_MTP:TK from MTP: b"\xd6\xcb!\x01\xc5\xbcS\xc3+Hm`\x1b\x1eK ('l\xa0e\xc93>?\\#\x9c\x86]0K"
INFO:SiFT_MTP:sha256 generation
DEBUG:SiFT_MTP:Message hash: 4f1f17c77b69b4bbaa000af420db47aa8d18db5f8a543ea5a8603dd426eddded
DEBUG:__main__:Login request: 
Username: alice
Password: aaa
SQN: b'\x00\x01'
Login request message: b'\x01\x00\x00\x00\x01Z\x00\x01\xefr\xf1v\x9d\xac\x00\x00[\x9ac\x96\xa0\xde\x8b\xda)L\xf6)0\xb3\xa5!K\x97f\\,\x0b\xe3\xd8f\xdb\xf8pTQW@\xe6B}Z\xc3\x89\x06\xaaF/\xdc;\xbe~*:\xdeZq>\x7f\x1fC\xeeR\xc5\x12\xbe\xc7\xcd5Wm\x1d\xc5\xf7>\xf7:9+\xf5\n\xa2\x18\x02lDk\x0e\x18\xfa\x17\xd9\x9d\x9b\xf8$z\'\xa8\xe3\x84\xaa\xedh\x9dW\r\xc2n\xab\xafGU\xd3t\xc24\x91F\x99\xc6ZA\xdd\x8d\xaf\x7f\xe1\x9f\x9e!\x86\x89-#\x16/?\xdco\x93\xa3UPM\xf2\xf33\x81\xca\x7f\xb4Ih\xd1\xfa\r5Yp\x8a\xb2\xa0\x1c\xd6\xa5\xab\xd1,\t\x82)4\xc0\xba\xa8\x8d\xb6\xc5\xb7\xe5\x9d@\xb92I\xbf\xe1\xd7\xcd\xcfP8\x1fYQ\xd4\xbf\xd6\xd9\r\xb0\x93\xdd5w\x1f\x1b\x99:\x0f\xae\xbb\xd1\x1b\x93\xde\xc5KS\x81b\xe0\x04\x1e\t/+\xa6\x97\xd5\x06\xe7\xdb\x17\x02c\xd4\\(MU\x9e\xb5^QA\xc3\xf12^\xb7\x8c[\xce_=F\x8e\x90Xop4y\xb2|\x82\xb8\x8f\xce\xd3N9\x9e\x1aW\x03\xcab\xee`\x1d\xe5\xc7\xd5;\xf4\xfd\x00\xa6\x86u!\xdaC2C"e\xdfO\x95\x7f\xa3\xe5E\xd1\x1dw\x853\x87\xb0^Y<\xc9\x9at\xf7NR\xfe7\x15"\x16\x1c\x14\xb3\xca<\x93J\xee'
Message hash: b'O\x1f\x17\xc7{i\xb4\xbb\xaa\x00\n\xf4 \xdbG\xaa\x8d\x18\xdb_\x8aT>\xa5\xa8`=\xd4&\xed\xdd\xed'
My random: a91f7c24c008d96c8c9ea4ae5bbe7808
Temp key: b"\xd6\xcb!\x01\xc5\xbcS\xc3+Hm`\x1b\x1eK ('l\xa0e\xc93>?\\#\x9c\x86]0K"
INFO:__main__:Message sent
DEBUG:__main__:Login response: b''
INFO:__main__:Response decrypt
DEBUG:__main__:Response: b''
INFO:SiFT_MTP:login response init
INFO:SiFT_MTP:parsing response message
INFO:SiFT_MTP:mtp response init
INFO:SiFT_MTP:mtp response
INFO:SiFT_MTP:check_version
DEBUG:SiFT_MTP:Header version is not matching:
Expected: b'\x01\x00'
Message header version: b''
INFO:__main__:Connection closed
ERROR:__main__:An error was occured during the process: 'NoneType' object is not subscriptable
DEBUG:__main__:__init__
INFO:__main__:Initialization
DEBUG:__main__:operation
DEBUG:__main__:connect
INFO:__main__:Connection established
DEBUG:__main__:login
INFO:__main__:Starting Login Protocol
INFO:SiFT_MTP:login request init
INFO:SiFT_MTP:create mtp message
DEBUG:SiFT_MTP:Created message: 1651954569996940900
alice
aaa
e9f7ec74e762d25b2a9de99a1e00c392
INFO:SiFT_MTP:loading pubkey
INFO:SiFT_MTP:login request func
INFO:SiFT_MTP:handle to mtp
INFO:SiFT_MTP:mtp response init
INFO:SiFT_MTP:Mesage length calculation
INFO:SiFT_MTP:login message length calc
DEBUG:SiFT_MTP:Payload length: 62
DEBUG:SiFT_MTP:Login message length: 346
Login message length in bytes: b'\x01Z'
DEBUG:SiFT_MTP:Message length b'\x01Z'
INFO:SiFT_MTP:mtp login request
INFO:SiFT_MTP:login req encryption
INFO:SiFT_MTP:Payload encrypted
DEBUG:SiFT_MTP:Encryption: 
nonce b'\x00\x01\x82\xfbz!\n-'
tk: b'\x05\xd7z\x0e\xb2\xe1\xfe\xb0\x92\x91DI\xc9\x88\xe8f\xcc\x1f"m\xef\xca\x96\x0e\xf2\xfe\x9d\xcd\xc5\xc4Jf'
encrypted payload: b'\xbb\x12\xb5\x14\x0c\xb6sC\xab\xa6,b\xd2\x81_)^\xc2cq\x05\x06\xe4\x14l"\x93y\xe3+\xd9\xed\xcf\xd5s\xeeZY\x1c}\x96\xab\x93=\xba\x7f:\x06b+\x85\xf6\xbf\xec2R\xc64H\x05$4'
INFO:SiFT_MTP:mac generation
INFO:SiFT_MTP:create header
DEBUG:SiFT_MTP:Mac generated: b'\xe5\xff\xc5~#\xb9\xc82\xd8_=\x9f'
INFO:SiFT_MTP:encrypted
INFO:SiFT_MTP:Encrypting TK
DEBUG:SiFT_MTP:Encrypted tk: b'\x94C\x7f\x9f\xc1z\x0c\xeb\xf3\xb5\xa14"+R\xc42\xbf\x0c\x8a\'%\xccO\n\x15\x12\xb6I\xa4d\xc5\'\xa8\xb6T15&\xa8\xfa\x0f\xa9V\x83M\x0c\xbe\xcfuXu\xb4\xa454\xfa!\x07\x0e\xee\xc7\xcc\xf3g\x98{\xa1\xf1\xf7\xe0,\x02\xb9\x83\x9c\x86\xaaw\xbd!\xe2@6\xd6\xd2\xc1\x81\xf05\xf6\x88\xa4N!yV\x06\xac\x17\x15\xf1E\xa0\xfc\xd0 \x08<\xfa+\xfdB\x1d1\xa9\xe56\xa8\xfd\xcf\x03<\xbf\x8e[\xed\x1b\xcf\xb9\x17\xc5\x84\'\x196<\xbe\x1b\xf5A\x8b\xe4$`\x02\xde\xed\x08\x1c).|5\xe7\xbe\x1a\xf9\x8e"\xf9A\x9f\xf6\xef5\xec\xc5;\xb9\xb7\xd8\r\x86\xdb\xcb\x0c\xab\r\xe1"a\xa9\x14\x1f\xe7\x98\xee\x00\xa1\x82E\xa9\xe06\xfdb\x84\xd2\xf5\xa7\x04aBD(Y\x1fB\xaeg\t\x99\xd5*\xbe0\xc9\xb0\xa2\x8e\xaa\x0b]\x91\xe9#\xab\xc1>\xd1P\xef^\xc8\xd4\xb5\x93f%\x16\x0c\x07\xe2p\xa6\x03\xdc\x99D\x80\xee t9('
DEBUG:SiFT_MTP:
mac langth: 12
header length: 16
pyl length: 62
ectk len: 256

DEBUG:SiFT_MTP:Full message sent back: b'\x01\x00\x00\x00\x01Z\x00\x01\x82\xfbz!\n-\x00\x00\xbb\x12\xb5\x14\x0c\xb6sC\xab\xa6,b\xd2\x81_)^\xc2cq\x05\x06\xe4\x14l"\x93y\xe3+\xd9\xed\xcf\xd5s\xeeZY\x1c}\x96\xab\x93=\xba\x7f:\x06b+\x85\xf6\xbf\xec2R\xc64H\x05$4\xe5\xff\xc5~#\xb9\xc82\xd8_=\x9f\x94C\x7f\x9f\xc1z\x0c\xeb\xf3\xb5\xa14"+R\xc42\xbf\x0c\x8a\'%\xccO\n\x15\x12\xb6I\xa4d\xc5\'\xa8\xb6T15&\xa8\xfa\x0f\xa9V\x83M\x0c\xbe\xcfuXu\xb4\xa454\xfa!\x07\x0e\xee\xc7\xcc\xf3g\x98{\xa1\xf1\xf7\xe0,\x02\xb9\x83\x9c\x86\xaaw\xbd!\xe2@6\xd6\xd2\xc1\x81\xf05\xf6\x88\xa4N!yV\x06\xac\x17\x15\xf1E\xa0\xfc\xd0 \x08<\xfa+\xfdB\x1d1\xa9\xe56\xa8\xfd\xcf\x03<\xbf\x8e[\xed\x1b\xcf\xb9\x17\xc5\x84\'\x196<\xbe\x1b\xf5A\x8b\xe4$`\x02\xde\xed\x08\x1c).|5\xe7\xbe\x1a\xf9\x8e"\xf9A\x9f\xf6\xef5\xec\xc5;\xb9\xb7\xd8\r\x86\xdb\xcb\x0c\xab\r\xe1"a\xa9\x14\x1f\xe7\x98\xee\x00\xa1\x82E\xa9\xe06\xfdb\x84\xd2\xf5\xa7\x04aBD(Y\x1fB\xaeg\t\x99\xd5*\xbe0\xc9\xb0\xa2\x8e\xaa\x0b]\x91\xe9#\xab\xc1>\xd1P\xef^\xc8\xd4\xb5\x93f%\x16\x0c\x07\xe2p\xa6\x03\xdc\x99D\x80\xee t9('
DEBUG:SiFT_MTP:Message from MTP: b'\x01\x00\x00\x00\x01Z\x00\x01\x82\xfbz!\n-\x00\x00\xbb\x12\xb5\x14\x0c\xb6sC\xab\xa6,b\xd2\x81_)^\xc2cq\x05\x06\xe4\x14l"\x93y\xe3+\xd9\xed\xcf\xd5s\xeeZY\x1c}\x96\xab\x93=\xba\x7f:\x06b+\x85\xf6\xbf\xec2R\xc64H\x05$4\xe5\xff\xc5~#\xb9\xc82\xd8_=\x9f\x94C\x7f\x9f\xc1z\x0c\xeb\xf3\xb5\xa14"+R\xc42\xbf\x0c\x8a\'%\xccO\n\x15\x12\xb6I\xa4d\xc5\'\xa8\xb6T15&\xa8\xfa\x0f\xa9V\x83M\x0c\xbe\xcfuXu\xb4\xa454\xfa!\x07\x0e\xee\xc7\xcc\xf3g\x98{\xa1\xf1\xf7\xe0,\x02\xb9\x83\x9c\x86\xaaw\xbd!\xe2@6\xd6\xd2\xc1\x81\xf05\xf6\x88\xa4N!yV\x06\xac\x17\x15\xf1E\xa0\xfc\xd0 \x08<\xfa+\xfdB\x1d1\xa9\xe56\xa8\xfd\xcf\x03<\xbf\x8e[\xed\x1b\xcf\xb9\x17\xc5\x84\'\x196<\xbe\x1b\xf5A\x8b\xe4$`\x02\xde\xed\x08\x1c).|5\xe7\xbe\x1a\xf9\x8e"\xf9A\x9f\xf6\xef5\xec\xc5;\xb9\xb7\xd8\r\x86\xdb\xcb\x0c\xab\r\xe1"a\xa9\x14\x1f\xe7\x98\xee\x00\xa1\x82E\xa9\xe06\xfdb\x84\xd2\xf5\xa7\x04aBD(Y\x1fB\xaeg\t\x99\xd5*\xbe0\xc9\xb0\xa2\x8e\xaa\x0b]\x91\xe9#\xab\xc1>\xd1P\xef^\xc8\xd4\xb5\x93f%\x16\x0c\x07\xe2p\xa6\x03\xdc\x99D\x80\xee t9('
DEBUG:SiFT_MTP:TK from MTP: b'\x05\xd7z\x0e\xb2\xe1\xfe\xb0\x92\x91DI\xc9\x88\xe8f\xcc\x1f"m\xef\xca\x96\x0e\xf2\xfe\x9d\xcd\xc5\xc4Jf'
INFO:SiFT_MTP:sha256 generation
DEBUG:SiFT_MTP:Message hash: 10e0bf59c26d7fa771b243d381749684fe3d71d25fe0535df21769bee8f462d0
DEBUG:__main__:Login request: 
Username: alice
Password: aaa
SQN: b'\x00\x01'
Login request message: b'\x01\x00\x00\x00\x01Z\x00\x01\x82\xfbz!\n-\x00\x00\xbb\x12\xb5\x14\x0c\xb6sC\xab\xa6,b\xd2\x81_)^\xc2cq\x05\x06\xe4\x14l"\x93y\xe3+\xd9\xed\xcf\xd5s\xeeZY\x1c}\x96\xab\x93=\xba\x7f:\x06b+\x85\xf6\xbf\xec2R\xc64H\x05$4\xe5\xff\xc5~#\xb9\xc82\xd8_=\x9f\x94C\x7f\x9f\xc1z\x0c\xeb\xf3\xb5\xa14"+R\xc42\xbf\x0c\x8a\'%\xccO\n\x15\x12\xb6I\xa4d\xc5\'\xa8\xb6T15&\xa8\xfa\x0f\xa9V\x83M\x0c\xbe\xcfuXu\xb4\xa454\xfa!\x07\x0e\xee\xc7\xcc\xf3g\x98{\xa1\xf1\xf7\xe0,\x02\xb9\x83\x9c\x86\xaaw\xbd!\xe2@6\xd6\xd2\xc1\x81\xf05\xf6\x88\xa4N!yV\x06\xac\x17\x15\xf1E\xa0\xfc\xd0 \x08<\xfa+\xfdB\x1d1\xa9\xe56\xa8\xfd\xcf\x03<\xbf\x8e[\xed\x1b\xcf\xb9\x17\xc5\x84\'\x196<\xbe\x1b\xf5A\x8b\xe4$`\x02\xde\xed\x08\x1c).|5\xe7\xbe\x1a\xf9\x8e"\xf9A\x9f\xf6\xef5\xec\xc5;\xb9\xb7\xd8\r\x86\xdb\xcb\x0c\xab\r\xe1"a\xa9\x14\x1f\xe7\x98\xee\x00\xa1\x82E\xa9\xe06\xfdb\x84\xd2\xf5\xa7\x04aBD(Y\x1fB\xaeg\t\x99\xd5*\xbe0\xc9\xb0\xa2\x8e\xaa\x0b]\x91\xe9#\xab\xc1>\xd1P\xef^\xc8\xd4\xb5\x93f%\x16\x0c\x07\xe2p\xa6\x03\xdc\x99D\x80\xee t9('
Message hash: b'\x10\xe0\xbfY\xc2m\x7f\xa7q\xb2C\xd3\x81t\x96\x84\xfe=q\xd2_\xe0S]\xf2\x17i\xbe\xe8\xf4b\xd0'
My random: e9f7ec74e762d25b2a9de99a1e00c392
Temp key: b'\x05\xd7z\x0e\xb2\xe1\xfe\xb0\x92\x91DI\xc9\x88\xe8f\xcc\x1f"m\xef\xca\x96\x0e\xf2\xfe\x9d\xcd\xc5\xc4Jf'
INFO:__main__:Message sent
DEBUG:__main__:Login response: b''
INFO:__main__:Response decrypt
DEBUG:__main__:Response: b''
INFO:SiFT_MTP:login response init
INFO:SiFT_MTP:parsing response message
INFO:SiFT_MTP:mtp response init
INFO:SiFT_MTP:mtp response
INFO:SiFT_MTP:check_version
DEBUG:SiFT_MTP:Header version is not matching:
Expected: b'\x01\x00'
Message header version: b''
INFO:__main__:Connection closed
ERROR:__main__:An error was occured during the process: 'NoneType' object is not subscriptable
